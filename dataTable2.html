<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <head>
    <title>一覧</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="./libs/js/main.js"></script>
    <script type="text/javascript" >
    $(document).ready(function() {

        $('#search').on('click', function(){

            getAddress();
        })


        function getAddress() {

            var zip = $('#zip').val() || '';

            $('#address').DataTable({
                "bServerSide": true,
                "sScrollY": "300px",
                "sDom":"ti",
                "sAjaxSource": "/library/public/address.php?zip=" + zip,
                "scroller": {
                    loadingIndicator: true
                },
               "destroy": true,
               "language": {
                   "emptyTable" : "データが登録されていません。",
                   "info" : "_TOTAL_ 件中 _START_ 件から _END_ 件までを表示",
                   "infoEmpty" : "",
                   "loadingRecords" : "ロード中",
                   "processing" : "処理中...",
             }});
         }
    });

    </script>
    <body>
        <div>一覧</div>
        <input type="text" name="zip" id="zip">
        <button id="search">検索</button>
        <table id="address" class="dataTable">
            <thead>
                <tr>
                    <th>zip</th>
                    <th>pref</th>
                    <th>city</th>
                    <th>town</th>
                </tr>
            </thead>
        </table>
    </body>
</html>
